<%- include("partials/header.ejs") %>


<div class="user-main">
    <button class="mobile-nav-toggle"  aria-controls="menu" aria-expanded="false"><%= _.capitalize(nameOfUser.substring(0, 1)) %></button>
    <div data-visible="false" class="menu user-details h-class">
        <div class="greet">Hello <%= _.capitalize(nameOfUser.split(/\s/)[0]) %></div>
        <div class="user-actions">
            <form action="/practice" method="post">
                <button style="background-color: rgb(41 17 144); border: 1px red groove;" class="btn"><span style="color: red;">!!!</span>&nbsp;PRACTICE&nbsp;<span style="color: red;">!!!</span></button>
            </form>
            <form action="/profilestats" method="get">
                <button style="background-color: rgb(0, 101, 134);" class="btn">Profile stats</button>
            </form>
            <form action="/addtopic" method="get">
                <button style="background-color: rgb(0, 101, 134);" class="btn">Add topic</button>
            </form>
            <form action="/removetopic" method="get">
                <button style="background-color: rgb(0, 101, 134);" class="btn">Remove topic</button>
            </form>
            <form action="/changepassword" method="post">
                <button style=" background-color: rgb(79, 27, 0);" class="btn">change password</button>
            </form>
            <form action="/logout" method="post">
                <button style=" background-color: rgb(79, 27, 0);">Log Out</button>
            </form>
        </div>
    </div>
    <div class="major-topic-dropdown">
        <button class="dropbtn">Topics</button>
        <div class="dropdown-content">
          <% suggestedTopic.forEach(function(item){ %>
            <form action="/addtopicbysuggestion" method="post">
                <button name="topicvalue" value="<%= item %>"><%= _.capitalize(item) %></button>
            </form>
        <% }) %>
        </div>
    </div>
    <div style="margin: 0.2em 0em; font-size: 1.5rem;">
        <%= message %>
    </div>
    <div class="topics">
        <div class="topic-title">
            <h2>Your Topic names</h2>
        </div>
        <%
            var colorArray = ['#FF6633', '#FFB399', '#FF33FF', '#FFFF99', '#00B3E6', 
                            '#E6B333', '#3366E6', '#999966', '#99FF99', '#B34D4D',
                            '#80B300', '#809900', '#E6B3B3', '#6680B3', '#66991A', 
                            '#FF99E6', '#CCFF1A', '#FF1A66', '#E6331A', '#33FFCC',
                            '#66994D', '#B366CC', '#4D8000', '#B33300', '#CC80CC', 
                            '#66664D', '#991AFF', '#E666FF', '#4DB3FF', '#1AB399',
                            '#E666B3', '#33991A', '#CC9999', '#B3B31A', '#00E680', 
                            '#4D8066', '#809980', '#E6FF80', '#1AFF33', '#999933',
                            '#FF3380', '#CCCC00', '#66E64D', '#4D80CC', '#9900B3', 
                            '#E64D66', '#4DB380', '#FF4D4D', '#99E6E6', '#6666FF'];
        %>
        <div class="topic-list">
            <% topics.forEach(function(item){ %>
                <% var colorIndex = Math.floor(Math.random()*50); %>
                    <form action="/topicwiselist/<%= (item.id) %>" method="get">
                        <button class="topic-list-button"><%= _.capitalize(item.topicname) %> (<b ><%= item.content.length%></b>)</button>
                    </form>
            <% }); %>
        </div>
    </div>
</div>


<%- include("partials/footer.ejs") %>