<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Trirong">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Sevillana&display=swap" rel="stylesheet">
    <!-- <link rel="stylesheet" href="/css/style.css"> -->

    <!-- ----------- Bootstrap ---------- -->

    <link rel="stylesheet" href="/css/bootstrap/bootstrap.min.css">
    <link rel="stylesheet" href="/css/Sevillana/Sevillana-Regular.ttf">


    <link rel="stylesheet" href="/css/bootstrap-icons-1.11.2/font/bootstrap-icons.min.css">

    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css"> -->

    <!-- bootstrap toggle button in chief warden section [BLOCK UNBLOCK]-->
    <link href="https://cdn.jsdelivr.net/gh/gitbrent/bootstrap-switch-button@1.1.0/css/bootstrap-switch-button.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/gh/gitbrent/bootstrap-switch-button@1.1.0/dist/bootstrap-switch-button.min.js"></script>
    <script src="/css/bootstrap/bootstrap.bundle.min.js"></script>
    <script src="/css/mdb/mdb.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>


    <!-- Font Awesome -->

    <link rel="stylesheet" href="/css/font-awesome/css/all.min.css">
    <link rel="stylesheet" href="/css/font-awesome/css/fontawesome.min.css">

    <!-- Google Fonts -->

    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet"/>

    <!-- MDB -->

    <link href="/css/mdb/mdb.min.css" rel="stylesheet"/>

    <style>
      .form-control{
        text-align: center !important;
        padding: 0px !important;
      }
      @media screen and (max-width: 490px) {
      .form-control {
        margin-right: 0.3rem !important;
      }
}
    </style>

    <script src="js/nav.js" defer></script>
</head>
<body style="background-color: #d8d8d8;">
    
    <div class="container h-75 blockquote">
        <section class="mx-auto my-5" style="max-width: 53rem;">
            
          <div class="card text-center">
            <div class="h1 mt-4 u" style="color: #009a95; font-family: 'Sevillana', cursive; font-size: 3.2rem;"><u>Dsa Organizer</u></div>
            <div class="card-title d-flex justify-content-center mt-4 mb-2 align-items-center" style="font-family: cursive;"><img src="/images/otptomail.png" alt="Girl in a jacket" width="4%" height="40px"> &nbsp;&nbsp;<h2 style="color: #003fac">Otp verification</h2></div>
            <!-- <div class="mb-3 mt-2"><b>Hey , Just one more step...!!!</b></div> -->
            <div class="card-body pb-0" style="font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;">
              <p style="color: rgb(255, 89, 0); font-weight: 600;">Please enter the one time password
                to verify your account
              </p>
          </div>
            <div>A code has been sent to <b><%= userEmail %></b></div>
            <div class="avatar mx-auto mb-3">
              <form action="/otpsent" method="post" class="signup row g-4 mx-auto m-4 needs-validation" novalidate>

                <div class="col-md-12 d-flex justify-content-center mt-0">
                  <label for="validationCustom01" class="form-label"></label>
                  <input type="text" class="form-control otp-input" id="o1" style="width: 3rem; height: 3rem; margin-right: 2rem; text-align: center;" name="one" autocomplete="off" onkeyup="alter_box(this.id)" maxlength="1" required>

                  <input type="text" class="form-control otp-input" id="o2" style="width: 3rem; height: 3rem; margin-right: 2rem; text-align: center;" name="two" required autocomplete="off" onkeyup="alter_box(this.id)" maxlength="1">

                  <input type="text" class="form-control otp-input" id="o3" style="width: 3rem; height: 3rem; margin-right: 2rem; text-align: center;" name="three" required autocomplete="off" onkeyup="alter_box(this.id)" maxlength="1">

                  <input type="text" class="form-control otp-input" id="o4" style="width: 3rem; height: 3rem; margin-right: 2rem; text-align: center;" name="four" required autocomplete="off" onkeyup="alter_box(this.id)" maxlength="1">

                  <input type="text" class="form-control otp-input" id="o5" style="width: 3rem; height: 3rem; margin-right: 2rem; text-align: center;" name="five" required autocomplete="off" onkeyup="alter_box(this.id)" maxlength="1">

                  <input type="text" class="form-control otp-input" id="o6" style="width: 3rem; height: 3rem; text-align: center;" name="six" required autocomplete="off" onkeyup="alter_box(this.id)" maxlength="1">
                  <input type="hidden" name="otp" value="<%= otp %>">
                </div>
                <div class="d-flex justify-content-center">
                  <button class="w-300 btn btn-primary btn-lg rounded-9" style="background-color: rgb(255, 89, 0);" type="submit">Validate</button>
                </div>
                
                <input type="hidden" name="userEmail" value="<%= userEmail %>">
                <input type="hidden" name="newPassword" value="<%= newpassword %>">
              </form>
            </div>
            <!-- <div class="" style="font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;">
                <p>Didn't received the email? Click to <b style="color: #072356">resend the activation email.</b></p>
            </div> -->
          </div>
          
        </section>
      </div>


<!-- ========== BOOTSTRAP JS FILES ====================== -->

<script>

    //----for otp-------
    window. onload = function() { document. getElementById('o1'). focus(); };

    function alter_box(id){
			var id_num = parseInt(id.split('')[1]);
			var key = event.keyCode || event.charCode;
			if (key === 8 || key === 46) {
		        if(id_num != 1){
		        	var prev = 'o'+(id_num-1).toString();
		        	console.log(id_num, prev);
		        	document.getElementById(prev).focus();
		        }
		    }else{
		    	var id_num = parseInt(id.split('')[1]);
				if(id_num!=6){
					var next = 'o'+(id_num+1).toString();
					document.getElementById(next).focus();
				}
		    }
		}


    //----for otp-------



  (() => {
  'use strict'

  // Fetch all the forms we want to apply custom Bootstrap validation styles to
  const forms = document.querySelectorAll('.needs-validation')

  // Loop over them and prevent submission
  Array.from(forms).forEach(form => {
    form.addEventListener('submit', event => {
      if (!form.checkValidity()) {
        event.preventDefault()
        event.stopPropagation()
      }

      form.classList.add("was-validated")
    }, false)
  })
})()

</script>

<script src="/css/bootstrap/bootstrap.bundle.min.js"></script>
<script src="/css/mdb/mdb.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

<!-- ========== ! BOOTSTRAP JS FILES ==================== -->

</body>
</html>

